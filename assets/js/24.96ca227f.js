(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{350:function(t,r,s){"use strict";s.r(r);var n=s(7),o=Object(n.a)({},(function(){var t=this,r=t._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("div",{staticClass:"custom-block note"},[r("p",{staticClass:"custom-block-title"},[t._v("笔记")]),t._v(" "),r("p",[t._v("尽管在实习前我在B站看了很多关于实习踩坑的视频，也问了一些学长他们踩的坑，但是该踩的坑还是一个都不会少的~"),r("br"),t._v(" "),r("strong",[t._v("本篇笔记记录一下自己在公司使用Git时出的bug")])])]),t._v(" "),r("h2",{attrs:{id:"_1-切换分支"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-切换分支"}},[t._v("#")]),t._v(" 1. 切换分支")]),t._v(" "),r("p",[t._v("一般的流程应该是: 老大跟你说要参与哪个项目，把项目源码链接发你（GitLab/Github/Gitee），拿到手上后拉下来默认是主分支，\n也就是master，但是一般来说是不允许开发人员往 master 分支中 push 代码的，这时候你就要切换到"),r("font",{attrs:{color:"Green"}},[t._v("当前版本")]),t._v("的分支。"),r("br"),t._v("\n切换方法：\n打开IDEA中Git的管理框（我的是2023新UI，旧UI应该在最上面的中间）"),r("br"),t._v("\n然后点击"),r("font",{attrs:{color:"Green"}},[r("strong",[t._v("Fatch")])]),r("br"),t._v("\n点击之后就会看到右下角除了master之外又蹦出来项目中的其他的分支"),r("br"),t._v("\n这时你又会看到分为 "),r("strong",[t._v("Local Branches")]),t._v(" 和 "),r("strong",[t._v("Remote Branches")]),r("br"),t._v("\nLocal Branches： 本地的分支，也就是你在远程仓库中拉取的分支。"),r("br"),t._v("\nRemote Branches：远程的分支，也就是现在仓库中的所有分支。"),r("br"),t._v("\n我们就在Remote Branches中选择将要切换的分支"),r("br"),t._v(" "),r("img",{attrs:{src:"https://typorehwf.oss-cn-chengdu.aliyuncs.com/20230704190037.png",alt:"fatch"}}),r("br"),t._v(" "),r("img",{attrs:{src:"https://typorehwf.oss-cn-chengdu.aliyuncs.com/20230704190835.png",alt:"右下角有其他分支"}}),r("br"),t._v("\n点击某个远程分支之后有一个checkout，点击checkout就可以把这个分支拉到本地，应该会默认切换本地的分支，如果没有切换就手动checkout一下。"),r("br"),t._v(" "),r("img",{attrs:{src:"https://typorehwf.oss-cn-chengdu.aliyuncs.com/20230704191005.png",alt:"checkout"}}),r("br"),t._v("\n切换到当前版本的分支之后就可以愉快的写代码了~")],1),t._v(" "),r("h2",{attrs:{id:"_2-忘记切换分支"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-忘记切换分支"}},[t._v("#")]),t._v(" 2. 忘记切换分支")]),t._v(" "),r("p",[t._v("我就忘记切换分支了，然后在master中写的代码，写完之后 commit -> push 一条龙，哇趣 master 不让 push！！！"),r("br"),t._v("\n于是我赶紧切换回开发版本，暂且称它为 dev1.0.0 吧。"),r("br"),t._v("\n切换到 dev1.0.0 之后发现我的代码没了！！\n好的嘛，现在的问题就是：我在 master 写的代码 commit 之后，切换回 dev1.0 发现消失了。"),r("br"),t._v("\n那肯定不能重新写啊，"),r("font",{attrs:{color:"Green"}},[t._v("现在要做的就是把 master 中已经commit的代码拉到dev分支的本地，然后重新上传")]),t._v("。"),r("br"),t._v("\n解决：要确保代码在msater中已经commit了，并且现在dev1.0分支是最新的（别忘记poll一下哦）。"),r("br"),t._v("\n现在是dev1.0分支，打开Git Log"),r("br"),t._v(" "),r("img",{attrs:{src:"https://typorehwf.oss-cn-chengdu.aliyuncs.com/20230704191747.png",alt:"Git Log"}}),r("br"),t._v("\n在这里你可以看到所有人的 commit/push 记录，找到 master 并且找到你自己，并且找到那一条需要恢复的记录。"),r("br"),t._v(" "),r("img",{attrs:{src:"https://typorehwf.oss-cn-chengdu.aliyuncs.com/20230704191919.png",alt:""}}),r("br"),t._v('\n假如我刚才commit的是 "队列的最大值" 这一条记录，我现在想把它拉回到dev本地，那么我右键之后点击'),r("font",{attrs:{color:"Green"}},[r("strong",[t._v("Cherry-Pick")])]),t._v("然后稍等片刻就可以看到刚才写的代码了~。"),r("br"),t._v(" "),r("img",{attrs:{src:"https://typorehwf.oss-cn-chengdu.aliyuncs.com/20230704192349.png",alt:"cherry-pick"}})],1),t._v(" "),r("h2",{attrs:{id:"_3-poll"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-poll"}},[t._v("#")]),t._v(" 3. poll")]),t._v(" "),r("p",[t._v("自己写项目的时候往往就一个分支用到底，而且不会有别人往这个项目里面写代码。但是在公司时时刻刻都会有人往Github上放代码。"),r("br"),t._v("\n设想这个场景：你和我咱俩人同一天入职，同一天写代码，你负责订单order模块，我负责送餐sendFood模块。"),r("br"),t._v("\n我们同一天拉取代码，那么这个时候咱俩得到的代码就是一样的，但是几天之后，你在order模块添加了A类与B类，我在sendFood模块中添加了G类与O类。"),r("br"),t._v("\n现在咱俩人的代码不一样，你的电脑里没有我写的G和O，我的电脑里没有你写的A和B。"),r("br"),t._v("\n你先写完push上去了，现在的Github代码在我们入职时初始代码的前提下增加了你的A和B。但是我写完之后也push了一下，会发生什么事情？"),r("br"),t._v(" "),r("font",{attrs:{color:"Red"}},[t._v("我 push 上去的代码没有你的代码，那么你之前push上去的代码就会被覆盖！")]),t._v("。"),r("br"),t._v("\n简而言之：你白干了。"),r("br"),t._v("\n想要避免这种情况（也是实习生非常非常容易出现的问题）：push代码之前先poll代码。"),r("br"),t._v("\n也就是往上放代码之前先把代码拉到你的电脑上。流程是："),r("font",{attrs:{color:"Green"}},[t._v("poll -> commit -> push")]),r("br"),t._v("\n在IDEA中就更简单了，下面这三个按钮"),r("font",{attrs:{color:"Red"}},[r("strong",[t._v("从左到右")])]),t._v("挨个按一遍就可以避免上述问题："),r("br"),t._v(" "),r("img",{attrs:{src:"https://typorehwf.oss-cn-chengdu.aliyuncs.com/20230704194206.png",alt:"poll commit push"}})],1),t._v(" "),r("h2",{attrs:{id:"_4-部署到测试环境"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-部署到测试环境"}},[t._v("#")]),t._v(" 4. 部署到测试环境")]),t._v(" "),r("p",[t._v("一大早醒来，测试跟我说我写的接口全没有过😢🥲，把我吓得心惊胆战，我想这怎么可能呢？于是我打开线上地址，测试了一下还真是全都没有过....但是我在本地是全部都可以跑通的啊，于是我开始打开测试环境的日志去查（公司用的ES），发现这跟我写的代码逻辑查库顺序不太一样但是似曾相识啊！！"),r("br"),t._v("\n这是我前天写的代码！这时基本已经定位到问题了：我的代码没有放到测试环境下！"),r("br"),t._v("\n为了验证是不是这个问题，我把之前写的导出文件的接口测试了一下，发现Excel文件确实跟我刚调好的格式不一样。"),r("br"),t._v("\n现在的问题是：我的代码放到开发环境了，但是没有放到测试环境。"),r("br"),t._v("\n于是我打开IDEA看远程分支，确实有一个 “xxx_test”，于是我把它拉到本地，但是我发现我commit的时候本地并没有代码需要提交到test分支里"),r("br"),t._v(" "),r("img",{attrs:{src:"https://typorehwf.oss-cn-chengdu.aliyuncs.com/3f2f415f1e084f8cccf45bc011d6065f_720.jpg",alt:"没有合并的情况"}}),t._v("\n不对劲啊，我的代码应该没有在test分支commit过啊。后来带我的大哥说，你要把开发分支中已经commit的代码"),r("font",{attrs:{color:"Green"}},[r("strong",[t._v("merge")])]),t._v("到测试分支。")],1),t._v(" "),r("p",[t._v("于是步骤如下：")]),t._v(" "),r("ol",[r("li",[t._v("切换到test分支")]),t._v(" "),r("li",[t._v("将开发分支的代码merge到test分支\n"),r("img",{attrs:{src:"https://typorehwf.oss-cn-chengdu.aliyuncs.com/20230713123137.png",alt:"合并"}})]),t._v(" "),r("li",[t._v("将合并后的代码push到仓库中。")])])])}),[],!1,null,null,null);r.default=o.exports}}]);